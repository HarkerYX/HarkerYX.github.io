---
layout: post
title: Ubuntu server 16.04 磁盘文件系统结构损坏
date: '2023-05-06'
description: 'Ubuntu server 16.04 磁盘文件系统结构损坏'
categories: ['【👉👉👉 技能专栏】','【Ubuntu】']
tags: [技能,Ubuntu]
---

**1.打开运行虚拟机时候，提示VMware.exe 磁盘文件系统结构损坏 运行Chkdsk工具修复**

**2. 主机系统打开cmd 窗口，输入 “chkdsk 磁盘符”  然后回车执行修复 （一般加 /F）**

```elm
C:\Users\think>chkdsk O:
文件系统的类型是 NTFS。
卷标是 ubuntu。
 
警告! 未指定 F 参数
在只读模式下运行 CHKDSK。
 
CHKDSK 正在校验文件(阶段 1/3)...
  已处理 1280 个文件记录。
文件校验完成。
  已处理 0 个大型文件记录。
  已处理 0 个错误的文件记录。
  已处理 0 个 EA 记录。
  已处理 0 个重新解析记录。
CHKDSK 正在验证索引(阶段 2/3)...
  已处理 1428 个索引项。
索引验证完成。
CHKDSK 正在扫描未编制索引的文件以便重新连接到其原始目录。
检测到孤立文件 UBUNTU~1.LCK (1145)，应恢复到目录文件 733 中。
检测到孤立文件 Ubuntu_server_16.04_100G-cl5.vmdk.lck (1145)，应恢复到目录文件 73
3 中。
  已扫描到 4 个未索引文件。
CHKDSK 正在恢复剩余的未索引文件。
  已恢复 3 个未索引文件。
CHKDSK 正在验证安全描述符(阶段 3/3)...
  已处理 1280 个文件 SD/SID。
安全描述符验证完成。
  已处理 74 个数据文件。
主文件表(MFT)的 BITMAP 属性不正确。
Windows 发现文件系统有问题。
运行 CHKDSK (使用选项 /F)来更正这些问题。
 
总共有 1048575999 KB 磁盘空间。
1053 个文件中有  311877428 KB。
```

- **chkdsk命令：**

```elm
CHKDSK [volume[[path]filename]]] [/F] [/V] [/R] [/X] [/I] [/C] [/L[:size]]
```

- volume 指定驱动器(后面跟一个冒号)、装入点或卷名
- filename 仅用于 FAT/FAT32: 指定要检查是否有碎片的文件
- /F 修复磁盘上的错误
- /V 在 FAT/FAT32 上: 显示磁盘上每个文件的完整路径和名称，在 NTFS 上: 如果有清除消息，将其显示
- /R 查找不正确的扇区并恢复可读信息(隐含 /F)
- /L:size 仅用于 NTFS: 将日志文件大小改成指定的 KB 数，如果没有指定大小，则显示当前的大小
- /X 如果必要，强制卷先卸下，卷的所有打开的句柄就会无效(隐含 /F)
- /I 仅用于 NTFS: 对索引项进行强度较小的检查
- /C 仅用于 NTFS: 跳过文件夹结构的循环检查
- /I 和 /C 命令行开关跳过卷的某些检查，减少运行 Chkdsk 所需的时间
